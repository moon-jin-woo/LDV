<!DOCTYPE html>
<html lang="kr">
  <head>
    <meta charset="utf-8">
    <title>이상문의 드럼 영상저장소</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
      /* 기존 스타일 유지 */
      body { background-color:#393b52; color:white; margin:0; font-family: sans-serif; }
      .tit { color: white; padding: 40px 0 20px; text-align: center; font-size: 25px; border-bottom: 2px solid white; }
      .angks { padding: 10px 20px; }
      .vi { text-align: center; padding: 0; display: flex; flex-wrap: wrap; justify-content: center; }
      
      .vi li {
        list-style: none; border: 2px solid white; margin: 10px;
        padding: 40px 10px 20px; background-color: rgba(255, 255, 255, 0.05);
        width: 200px; border-radius: 10px; cursor: pointer; transition: 0.3s;
      }
      .vi li:hover { background-color: rgba(255, 255, 255, 0.2); }

      .down-btn {
        display: inline-block; margin-top: 15px; padding: 5px 10px;
        background: #4a4d6b; border: 1px solid white; border-radius: 5px; font-size: 12px;
      }

      /* 모달 스타일 수정 */
      .modal {
        display: none; position: fixed; z-index: 9999;
        left: 0; top: 0; width: 100%; height: 100%;
        background: rgba(0,0,0,0.95);
      }
      .modal-con {
        position: absolute; top: 50%; left: 50%;
        transform: translate(-50%, -50%); width: 90%; max-width: 800px;
      }
      .vi2 video {
        width: 100%; height: auto; display: block; 
        box-shadow: 0 0 30px rgba(0,0,0,0.5);
      }
      .close-modal {
        position: absolute; top: -40px; right: 0;
        color: white; font-size: 20px; cursor: pointer; padding: 5px;
      }
    </style>
  </head>
  <body>
    <div class="angks">
      <h3 class="tit">이상문의 드럼 영상 저장소</h3>
      
      <div class="modal" id="modal">
        <div class="modal-con">
          <span class="close-modal" onclick="closeVideo()">✕ 닫기</span>
          <div class="vi2" id="videoContainer"></div>
        </div>
      </div>

      <ul class="vi">
        <li onclick="openVideo('V1.mp4')">
          <div>첫 번째 드럼 영상</div>
          <a href="V1.mp4" download class="down-btn" onclick="event.stopPropagation();">다운로드</a>
        </li>
      </ul>
    </div>

    <script>
      function openVideo(src) {
        const modal = document.getElementById('modal');
        const container = document.getElementById('videoContainer');
        modal.style.display = 'block';
        
        // preload="auto"와 playsinline을 추가하여 로딩 성능과 모바일 재생 보강
        container.innerHTML = `
          <video controls autoplay playsinline preload="auto" style="width:100%;">
            <source src="${src}" type="video/mp4">
            현재 브라우저에서 지원하지 않는 코덱입니다.
          </video>
        `;
      }

      function closeVideo() {
        const modal = document.getElementById('modal');
        const container = document.getElementById('videoContainer');
        modal.style.display = 'none';
        container.innerHTML = ''; 
      }

      // 모달 바깥 클릭 시 닫기
      window.onclick = function(e) {
        if (e.target == document.getElementById('modal')) closeVideo();
      }
    </script>
  </body>
</html>